<% @title = t("hub.clients.edit_13614c_form_page3.title") %>
<% content_for :page_title, @title %>
<% content_for :card do %>
  <div class="form_13614c slab slab--not-padded">
    <h1><%= @title %></h1>
    <p>Last client 13614-C
      update: <%= @client.last_13614c_update_at&.in_time_zone("America/Los_Angeles")&.strftime("%b %-d %l:%M %p") %></p>

    <%= form_with model: @form,
                  url: edit_13614c_form_page3_hub_client_path,
                  method: :put, local: true, builder: VitaMinFormBuilder,
                  html: { class: 'form-card form-question-13614-page3' } do |f| %>
      <div>
        <div style="display: flex; justify-content: space-between;">
          <h2>Expenses and Tax Related Events: Check only the boxes that apply to you and/or your spouse.</h2>

          <%= render '13614c_page_links', current_page: 3 %>
        </div>

        <hr style="margin-top: 0;"/>

        <!-- ************************************ SECTION ONE ******************************** -->
        <hr style="margin: 5px; height:5px;"/>
        <!-- ************************************ SECTION ONE ******************************** -->

        <h3>Paid any of the following expenses to itemize in 2024?</h3>

        <!-- MORTGAGE -->
        <div class="grid">
          <div class="grid__item width-one-half" style="display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:paid_mortgage_interest, "(A) Mortgage Interest", yes_no_options_for_select) %>
          </div>
          <div class="grid__item width-one-half" style="background-color:#e5e5e5; padding: 10px; display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:cv_1098_cb, "(A) 1098", yes_no_options_for_select) %>
            <%= f.cfa_select(:cv_1098_count, "#", (0..5).map { |num| [num.to_s, num] }, { include_blank: true }) %>
          </div>
        </div>
        <hr style="margin: 5px;"/>

        <!-- STATE / LOCAL TAXES -->
        <div class="grid">
          <div class="grid__item width-one-half" style="display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:paid_local_tax, "(A) Taxes: state, local, real estate, sales, etc.", yes_no_options_for_select) %>
          </div>
          <div class="grid__item width-one-half" style="background-color:#e5e5e5; padding: 10px; display: block; height: 100%;">
            &nbsp;<br>&nbsp;
          </div>
        </div>
        <hr style="margin: 5px;"/>

        <!-- MEDICAL EXPENSES -->
        <div class="grid">
          <div class="grid__item width-one-half" style="display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:paid_medical_expenses, "(A) Medical, dental, prescription expenses", yes_no_options_for_select) %>
          </div>
          <div class="grid__item width-one-half" style="background-color:#e5e5e5; padding: 10px; display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:cv_med_expense_standard_deduction_cb, "(B) Standard deduction", yes_no_options_for_select) %>
            <%= f.cfa_select(:cv_med_expense_itemized_deduction_cb, "(A) Itemized deduction", yes_no_options_for_select) %>
          </div>
        </div>
        <hr style="margin: 5px;"/>

        <!-- CHARITABLE CONTRIBUTIONS -->
        <div class="grid">
          <div class="grid__item width-one-half" style="display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:paid_charitable_contributions, "(A) Charitable contributions", yes_no_options_for_select) %>
          </div>
          <div class="grid__item width-one-half" style="background-color:#e5e5e5; padding: 10px; display: block; height: 100%;">
            &nbsp;<br>&nbsp;
          </div>
        </div>
        <hr style="margin: 5px;"/>

        <!-- NOTES PART 1 -->
        <div class="grid" style="background-color:#e5e5e5; padding: 10px; display: block; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_textarea(:cv_14c_page_3_notes_part_1, "Notes/Comments", options: { rows: 2, columns: 100 }) %>
        </div>

        <!-- *********************************** SECTION TWO ******************************** -->
        <hr style="margin: 5px; margin-top: 40px; height:5px;"/>
        <!-- *********************************** SECTION TWO ******************************** -->

        <h3>Did any of the following happen during 2024?</h3>

        <!-- STUDENT LOAN INTEREST -->
        <div class="grid">
          <div class="grid__item width-one-half" style="display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:paid_student_loan_interest, "(B) Student loan interest", yes_no_options_for_select) %>
          </div>
          <div class="grid__item width-one-half" style="background-color:#e5e5e5; padding: 10px; display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:cv_1098e_cb, "(B) 1098-E", yes_no_options_for_select) %>
          </div>
        </div>
        <hr style="margin: 5px;"/>

        <!-- CHILDCARE -->
        <div class="grid">
          <div class="grid__item width-one-half" style="display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:paid_dependent_care, "(B) Child and dependent care", yes_no_options_for_select) %>
          </div>
          <div class="grid__item width-one-half" style="background-color:#e5e5e5; padding: 10px; display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:cv_child_dependent_care_credit_cb, "(B) Child and dependent care credit", yes_no_options_for_select) %>
          </div>
        </div>
        <hr style="margin: 5px;"/>

        <!-- RETIREMENT CONTRIB -->
        <div class="grid">
          <div class="grid__item width-one-half" style="display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:paid_retirement_contributions, "(B/A) Contributions to a retirement account", yes_no_options_for_select) %>
          </div>
          <div class="grid__item width-one-half" style="background-color:#e5e5e5; padding: 10px; display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:contributed_to_ira, "(B/A) IRA (Basic if a Roth IRA or 401K)", yes_no_options_for_select) %>
          </div>
        </div>
        <hr style="margin: 5px;"/>

        <!-- SCHOOL SUPPLIES -->
        <div class="grid">
          <div class="grid__item width-one-half" style="display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:paid_school_supplies, "(B) School supplies by a teacher, teacher’s aide or other educator", yes_no_options_for_select) %>
          </div>
          <div class="grid__item width-one-half" style="background-color:#e5e5e5; padding: 10px; display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:cv_edu_expenses_deduction_cb, "(B) Educator expenses deduction", yes_no_options_for_select) %>
            <%= f.cfa_input_field(:cv_edu_expenses_deduction_amt, "$", classes: ["form-width--short"]) %>
          </div>
        </div>
        <hr style="margin: 5px;"/>

        <!-- ALIMONY - 1ST ROW -->
        <div class="grid">
          <div class="grid__item width-one-half" style="display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:paid_alimony, "(B) Alimony payments (do not include child support)", yes_no_options_for_select) %>
          </div>
          <div class="grid__item width-one-half" style="background-color:#e5e5e5; padding: 10px; display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:cv_paid_alimony_w_spouse_ssn_cb, "(B) Alimony payments with spouse’s SSN", yes_no_options_for_select) %>
            <%= f.cfa_input_field(:cv_paid_alimony_w_spouse_ssn_amt, "$", classes: ["form-width--short"]) %>
          </div>
        </div>
        <!-- no HR here. -->

        <!-- ALIMONY ROW 2 - ADJ TO INCOME -->
        <div class="grid">
          <div class="grid__item width-one-half" style="display: flex; align-items: flex-start; justify-content: space-between;">
            &nbsp;<br>&nbsp;
          </div>
          <div class="grid__item width-one-half" style="background-color:#e5e5e5; padding: 10px; display: block; height: 100%;">
            <%= f.cfa_select(:cv_alimony_income_adjustment_yn_cb, "Adjustment to income", yes_no_options_for_select) %>
          </div>
        </div>
        <hr style="margin: 5px;"/>

        <!-- NOTES PART 2 -->
        <div class="grid" style="background-color:#e5e5e5; padding: 10px; display: block; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_textarea(:cv_14c_page_3_notes_part_2, "Notes/Comments", options: { rows: 2, columns: 100 }) %>
        </div>

        <!-- *********************************** SECTION THREE ******************************** -->
        <hr style="margin: 5px; margin-top: 40px; height:5px;"/>
        <!-- *********************************** SECTION THREE ******************************** -->

        <h3>Did any of the following happen during 2024?</h3>

        <!-- EDU EXPENSES ROW 1 -->
        <div class="grid">
          <div class="grid__item width-one-half" style="display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:paid_post_secondary_educational_expenses, "(B) You or someone in your family took educational classes
(technical school, college, job related, etc.)", yes_no_options_for_select) %>
          </div>
          <div class="grid__item width-one-half" style="background-color:#e5e5e5; padding: 10px; display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:cv_taxable_scholarship_income_cb, "(B) Taxable scholarship income", yes_no_options_for_select) %>
          </div>
        </div>
        <!-- no HR here. -->

        <!-- EDU EXPENSES ROW 2 -->
        <div class="grid">
          <div class="grid__item width-one-half" style="display: flex; align-items: flex-start; justify-content: space-between;">
            &nbsp;<br>&nbsp;
          </div>
          <div class="grid__item width-one-half" style="background-color:#e5e5e5; padding: 10px; display: block; height: 100%;">
            <%= f.cfa_select(:cv_1098t_cb, "(B) 1098-T (itemized statement from school, invoice, etc.)", yes_no_options_for_select) %>
          </div>
        </div>
        <!-- no HR here. -->

        <!-- EDU EXPENSES ROW 3 -->
        <div class="grid">
          <div class="grid__item width-one-half" style="display: flex; align-items: flex-start; justify-content: space-between;">
            &nbsp;<br>&nbsp;
          </div>
          <div class="grid__item width-one-half" style="background-color:#e5e5e5; padding: 10px; display: block; height: 100%;">
            <%= f.cfa_select(:cv_edu_credit_or_tuition_deduction_cb, "(B) Education credit or tuition and fees deduction", yes_no_options_for_select) %>
          </div>
        </div>
        <hr style="margin: 5px;"/>

        <!-- SELL A HOME -->
        <div class="grid">
          <div class="grid__item width-one-half" style="display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:sold_a_home, "(A) Sell a home", yes_no_options_for_select) %>
          </div>
          <div class="grid__item width-one-half" style="background-color:#e5e5e5; padding: 10px; display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:cv_1099s_cb, "(A) Sale of home (1099-S)", yes_no_options_for_select) %>
          </div>
        </div>
        <hr style="margin: 5px;"/>

        <!-- HSA -->
        <div class="grid">
          <div class="grid__item width-one-half" style="display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:had_hsa, "(A) Have a health savings account (HSA)", yes_no_options_for_select) %>
          </div>
          <div class="grid__item width-one-half" style="background-color:#e5e5e5; padding: 10px; display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:cv_hsa_contrib_cb, "HSA contributions", yes_no_options_for_select) %>
            <%= f.cfa_select(:cv_hsa_distrib_cb, "HSA distributions", yes_no_options_for_select) %>
          </div>
        </div>
        <hr style="margin: 5px;"/>

        <!-- MARKETPLACE HEALTH INS -->
        <div class="grid">
          <div class="grid__item width-one-half" style="display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:bought_marketplace_health_insurance, "(A) Purchase health insurance through the Marketplace (Exchange)", yes_no_options_for_select) %>
          </div>
          <div class="grid__item width-one-half" style="background-color:#e5e5e5; padding: 10px; display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:cv_1095a_cb, "(A) 1095-A", yes_no_options_for_select) %>
          </div>
        </div>
        <hr style="margin: 5px;"/>

        <!-- ENERGY EFFIICIENT STUFF FOR HOME -->
        <div class="grid">
          <div class="grid__item width-one-half" style="display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:bought_energy_efficient_items, "(A) Purchase and install energy-efficient home items (example:
windows, furnace, insulation, etc.)", yes_no_options_for_select) %>
          </div>
          <div class="grid__item width-one-half" style="background-color:#e5e5e5; padding: 10px; display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:cv_energy_efficient_home_improv_credit_cb, "(B) Energy efficient home improvement credits", yes_no_options_for_select) %>
          </div>
        </div>
        <hr style="margin: 5px;"/>

        <!-- DEBT CANCELLED -->
        <div class="grid">
          <div class="grid__item width-one-half" style="display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:had_debt_forgiven, "(A) Have credit card, mortgage, or other debt cancelled/forgiven
by a lender", yes_no_options_for_select) %>
          </div>
          <div class="grid__item width-one-half" style="background-color:#e5e5e5; padding: 10px; display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:cv_1099c_cb, "(A) 1099-C", yes_no_options_for_select) %>
          </div>
        </div>
        <hr style="margin: 5px;"/>

        <!-- DISASTER LOSS -->
        <div class="grid">
          <div class="grid__item width-one-half" style="display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:had_disaster_loss, "(A) Have a loss related to a declared Federal disaster area", yes_no_options_for_select) %>
          </div>
          <div class="grid__item width-one-half" style="background-color:#e5e5e5; padding: 10px; display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:cv_1099a_cb, "(A) 1099-A", yes_no_options_for_select) %>
            <%= f.cfa_select(:cv_disaster_relief_impacts_return_cb, "Disaster relief impacts return", yes_no_options_for_select) %>
          </div>
        </div>
        <hr style="margin: 5px;"/>

        <!-- TAX CREDIT DISALLOWED -->
        <div class="grid">
          <div class="grid__item width-one-half" style="display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:had_tax_credit_disallowed, "(B) Have a tax credit disallowed (example: earned income credit,
child tax credit, or American opportunity credit)", yes_no_options_for_select) %>
          </div>
          <div class="grid__item width-one-half" style="background-color:#e5e5e5; padding: 10px; display: flex; align-items: flex-start; justify-content: space-between;">
            <table style="width: 100%;">
              <tr><td><%= f.cfa_select(:cv_eitc_ctc_aotc_hoh_disallowed_in_a_prev_yr_cb, "(B) EITC, CTC, AOTC or HOH disallowed in a previous year", yes_no_options_for_select) %>
              <tr><td><%= f.cfa_input_field(:tax_credit_disallowed_year, "Year disallowed", classes: ["form-width--short"]) %>
              <tr><td><%= f.cfa_input_field(:cv_tax_credit_disallowed_reason, "Reason", classes: ["form-width--short"]) %>
            </table>
          </div>
        </div>
        <hr style="margin: 5px;"/>

        <!-- LETTER FROM IRS -->
        <div class="grid">
          <div class="grid__item width-one-half" style="display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:received_irs_letter, "Receive any letter or bill from the IRS", yes_no_options_for_select) %>
          </div>
          <div class="grid__item width-one-half" style="background-color:#e5e5e5; padding: 10px; display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:cv_eligible_for_litc_referral_cb, "Eligible for Low Income Taxpayer Clinic referral", yes_no_options_for_select) %>
          </div>
        </div>
        <hr style="margin: 5px;"/>

        <!-- ESTIMATED TAX PAYMENTS ROW 1 -->
        <div class="grid">
          <div class="grid__item width-one-half" style="display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:made_estimated_tax_payments, "(B) Make estimated tax payments or apply last year’s refund to
2024 taxes", yes_no_options_for_select) %>
          </div>
          <div class="grid__item width-one-half" style="background-color:#e5e5e5; padding: 10px; display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:cv_estimated_tax_payments_cb, "Estimated tax payments", yes_no_options_for_select) %>
            <%= f.cfa_input_field(:cv_estimated_tax_payments_amt, "$", classes: ["form-width--short"]) %>
          </div>
        </div>
        <!-- no HR here -->

        <!-- ESTIMATED TAX PAYMENTS ROW 2 -->
        <div class="grid">
          <div class="grid__item width-one-half" style="display: flex; align-items: flex-start; justify-content: space-between;">
            &nbsp;
          </div>
          <div class="grid__item width-one-half" style="background-color:#e5e5e5; padding: 10px; display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:cv_last_years_refund_applied_to_this_yr_cb, "Last year’s refund applied to this year", yes_no_options_for_select) %>
            <%= f.cfa_input_field(:cv_last_years_refund_applied_to_this_yr_amt, "$", classes: ["form-width--short"]) %>
          </div>
        </div>
        <!-- no HR here -->

        <!-- ESTIMATED TAX PAYMENTS ROW 3 -->
        <div class="grid">
          <div class="grid__item width-one-half" style="display: flex; align-items: flex-start; justify-content: space-between;">
            &nbsp;
          </div>
          <div class="grid__item width-one-half" style="background-color:#e5e5e5; padding: 10px; display: flex; align-items: flex-start; justify-content: space-between;">
            <%= f.cfa_select(:cv_last_years_return_available_cb, "Last year’s return available", yes_no_options_for_select) %>
          </div>
        </div>
        <hr style="margin: 5px;"/>

        <!-- NOTES PART 3 -->
        <div class="grid" style="background-color:#e5e5e5; padding: 10px; display: block; align-items: flex-start; justify-content: space-between; margin-bottom: 20px;">
            <%= f.cfa_textarea(:cv_14c_page_3_notes_part_3, "Notes/Comments", options: { rows: 2, columns: 100 }) %>
        </div>
      </div>

      <div style="display: flex; justify-content: space-between;">
        <div>
          <%= f.submit t("general.save"), class: "button button--cta"%>
          <%= f.submit t("general.save_and_exit"), class: "button button--cta"%>
          <%= link_to t("general.cancel"), cancel_13614c_hub_client_path, class: "button button--danger",
                      data: { confirm: t("general.confirm_exit_without_saving") } %>
        </div>

        <%= render '13614c_page_links', current_page: 3 %>
      </div>
    <% end %>
  </div>
<% end %>
