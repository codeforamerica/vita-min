<% @title = t(".title") %>
<% content_for :page_title, @title %>
<% content_for :card do %>
  <%= form_with model: @form, url: [:hub, @client], method: :put, local: true, builder: VitaMinFormBuilder, html: { class: 'form-card' } do |f| %>
    <h1 class="form-card__title">
      <%= @title %>
    </h1>

    <div id="primary-info">
      <h3 class="h2"><%= t(".primary_contact_info") %>:</h3>

      <%= f.cfa_input_field(:primary_first_name, t(".legal_first_name"), classes: ["form-width--long"]) %>
      <%= f.cfa_input_field(:primary_last_name, t(".legal_last_name"), classes: ["form-width--long"]) %>
      <%= f.cfa_input_field(:preferred_name, t(".preferred_name"), classes: ["form-width--long"]) %>
      <%= f.cfa_select(
              :preferred_interview_language,
              t(".preferred_interview_language"),
              I18n.backend.translations[I18n.locale][:general][:language_options].invert
          ) %>
      <%= f.cfa_input_field(:email_address, t("general.email"), classes: ["form-width--email"]) %>
      <%= f.cfa_input_field(:phone_number, t("general.phone_number")) %>
      <%= f.cfa_input_field(:sms_phone_number, t("general.phone_for_texting")) %>

      <h3 class="h2"><%= t(".filing_information") %></h3>
      <%= f.cfa_checkbox(:filing_joint, t("general.filing_joint"), options: { checked_value: "yes", unchecked_value: "no" }) %>
      <%= f.cfa_checkbox(:married, t("general.married"), options: { checked_value: "yes", unchecked_value: "no" }) %>
      <%= f.cfa_checkbox(:separated, t("general.separated"), options: { checked_value: "yes", unchecked_value: "no" }) %>
      <%= f.cfa_input_field(:separated_year, "#{t("general.separated")} #{t("general.year")}", classes: ["form-width--short"]) %>

      <%= f.cfa_checkbox(:widowed, t("general.widowed"), options: { checked_value: "yes", unchecked_value: "no" }) %>
      <%= f.cfa_input_field(:widowed_year, "#{t("general.widowed")} #{t("general.year")}", classes: ["form-width--short"]) %>

      <%= f.cfa_checkbox(:lived_with_spouse, t("general.lived_with_spouse"), options: { checked_value: "yes", unchecked_value: "no" }) %>
      <%= f.cfa_checkbox(:divorced, t("general.divorced"), options: { checked_value: "yes", unchecked_value: "no" }) %>
      <%= f.cfa_input_field(:divorced_year, "#{t("general.divorced")} #{t("general.year")}", classes: ["form-width--short"]) %>


      <h3 class="h2"><%= t(".mailing_address") %>:</h3>
      <%= f.cfa_input_field(:street_address, t("general.street_address"), classes: ["form-width--long"]) %>
      <%= f.cfa_input_field(:city, t("general.city"), classes: ["form-width--long"]) %>
      <%= f.cfa_select(:state, t("general.state"), States.name_value_pairs) %>
      <%= f.cfa_input_field(:zip_code, t("general.zip_code"), classes: ["form-width--zip"]) %>

      <%= f.cfa_checkbox(:sms_notification_opt_in, t("general.opt_in_sms"), options: { checked_value: "yes", unchecked_value: "no" }) %>
      <%= f.cfa_checkbox(:email_notification_opt_in, t("general.opt_in_email"), options: { checked_value: "yes", unchecked_value: "no" }) %>
    </div>


    <div id="spouse-info">
      <h3 class="h2"><%= t(".spouse_contact_info") %>:</h3>

      <%= f.cfa_input_field(:spouse_first_name, t(".legal_first_name"), classes: ["form-width--long"]) %>
      <%= f.cfa_input_field(:spouse_last_name, t(".legal_last_name"), classes: ["form-width--long"]) %>
      <%= f.cfa_input_field(:spouse_email_address, t("general.email"), classes: ["form-width--long"]) %>
    </div>

    <button class="button button--cta " type="submit">
      <%=t("general.save") %>
    </button>
  <% end %>
<% end %>
