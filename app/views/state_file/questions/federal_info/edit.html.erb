<% title = "‍💻🛠️ Direct File Data Overrides 🛠️💻" %>
<% content_for :page_title, title %>

<% content_for :card do %>
  <h1 class="h2"><%= title %></h1>
  <h3>This page represents data that was imported from Direct File and does not exist in the real flow.</h3>

  <%= form_with model: @form, url: { action: :update }, local: true, method: "put", builder: StateFileQaFormBuilder, html: { class: "form-card form-card--long" } do |f| %>
    <%= f.state_file_qa_input_field :tax_return_year, "tax return year" %>

    <%= f.state_file_qa_cfa_select(:filing_status, "filing_status", [
      ["single", 1],
      ["married filing jointly", 2],
      ["married filing separately", 3],
      ["head of household", 4],
      ["qualifying widow", 5],
    ], include_blank: true) %>

    <%= f.state_file_qa_input_field :primary_ssn, "primary ssn" %>
    <%= f.state_file_qa_input_field :primary_occupation, "primary occupation" %>

    <%= f.state_file_qa_input_field :spouse_ssn, "spouse ssn" %>
    <%= f.state_file_qa_input_field :spouse_occupation, "spouse occupation" %>

    <%= f.state_file_qa_input_field :mailing_street, "mailing address street" %>
    <%= f.state_file_qa_input_field :mailing_apartment, "mailing address apartment number" %>
    <%= f.state_file_qa_input_field :mailing_city, "mailing address city" %>
    <%= f.state_file_qa_input_field :mailing_zip, "mailing address zip code" %>

    <%= f.state_file_qa_input_field :fed_wages, "Wages, salaries, tips" %>
    <%= f.state_file_qa_input_field :fed_taxable_income, "Taxable interest" %>
    <%= f.state_file_qa_input_field :fed_unemployment, "Unemployment compensation" %>
    <%= f.state_file_qa_input_field :fed_taxable_ssb, "Taxable SS Income" %>

    <div>
      <h1>Dependent Detail Zone</h1>

      <%= f.fields_for :dependent_details do |ff| %>
        <%= render "df_dependent_detail", f: ff %>
      <% end %>
      <%= link_to_add_fields "New Dependent Detail", f, :dependent_details, { class: "button button--small", model: StateFile::FederalInfoForm::DfDependentDetailForm }, partial: "df_dependent_detail" %>
    </div>

    <div>
      <h1>W2 Zone</h1>

      <%= f.fields_for :w2s do |ff| %>
        <%= render "df_w2", f: ff %>
      <% end %>
      <%= link_to_add_fields "New W2", f, :w2s, { class: "button button--small", model: StateFile::FederalInfoForm::DfIrsW2Form }, partial: "df_w2" %>
    </div>

    <div style="background: #eaacea; padding: 15px; margin-bottom: 15px;">
      <h3>TODO ZONE: where do these things go?</h3>

      <%= f.cfa_checkbox(:claimed_as_dep, "claimed as dependent?", options: { checked_value: "yes", unchecked_value: "no" }) %>

      <%= f.state_file_qa_input_field :total_fed_adjustments_identify, "Total Federal Adjustments (description)" %>
      <%= f.state_file_qa_input_field :total_fed_adjustments, "Total Federal Adjustments (amount)" %>

      <%= f.state_file_qa_input_field :total_state_tax_withheld, "Total state tax withheld" %>
    </div>

    <%= f.continue %>
  <% end %>
<% end %>
