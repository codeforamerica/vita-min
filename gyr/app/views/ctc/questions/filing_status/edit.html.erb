<% @main_question = t("views.ctc.questions.filing_status.title", current_tax_year: MultiTenantService.new(:ctc).current_tax_year) %>

<% content_for :page_title, @main_question %>

<% content_for :card do %>
  <%= form_with model: @form, url: current_path, local: true, method: "put", builder: VitaMinFormBuilder, html: { class: "form-card form-card--long" } do |f| %>
    <h1 class="h2"><%= @main_question %></h1>

    <div class="form-card__content form-card--yes-no">
      <div class="options-wrapper">
        <div class="yes-no-buttons">
          <%= f.button :submit, name: "#{f.object_name}[filing_status]", value: "married_filing_jointly", class: "button button--icon button--icon--centered" do %>
            <%= image_tag("checkmark.svg", alt: "") %><%= t("general.affirmative") %>
          <% end %>
          <%= f.button :submit, name: "#{f.object_name}[filing_status]", value: "single", class: "button button--icon button--icon--centered" do %>
            <%= image_tag("crossmark.svg", alt: "") %><%= t("general.negative") %>
          <% end %>
        </div>
      </div>

      <div class="reveal-shrink-wrapper">
        <%= render('components/molecules/reveal', title: t("views.ctc.questions.filing_status.irs_reveal.title")) do %>
          <p><%= t("views.ctc.questions.filing_status.irs_reveal.body") %></p>
        <% end %>
      </div>
      <div class="reveal-shrink-wrapper">
        <%= render('components/molecules/reveal', title: t("views.ctc.questions.filing_status.mfs_reveal.title")) do %>
          <p><%= t("views.ctc.questions.filing_status.mfs_reveal.body") %></p>
        <% end %>
      </div>
      <div class="reveal-shrink-wrapper">
        <%= render('components/molecules/reveal', title: t("views.ctc.questions.filing_status.spouse_died_reveal.title")) do %>
          <p><%= t("views.ctc.questions.filing_status.spouse_died_reveal.body") %></p>
        <% end %>
      </div>
    </div>

  <% end %>
<% end %>
